# Модульная архитектура Star Wars API

## Структура проекта

```
server/
├── config/
│   └── database.js          # Конфигурация и инициализация БД
├── models/
│   ├── Film.js              # Модель фильмов
│   ├── Person.js            # Модель персонажей
│   └── FilmPerson.js        # Модель связей фильм-персонаж
├── routes/
│   ├── api.js               # API для загрузки данных из SWAPI
│   ├── films.js             # Маршруты для фильмов
│   └── people.js            # Маршруты для персонажей
├── services/
│   ├── swapiService.js      # Сервис для работы с SWAPI API
│   └── linkService.js       # Сервис для создания связей
└── utils/
    └── helpers.js           # Утилиты (RateLimiter, BatchProcessor)
```

## API Endpoints

### Персонажи
- `GET /people` - Все персонажи с их фильмами
- `GET /people/:id` - Конкретный персонаж с фильмами
- `GET /people/search/:name` - Поиск персонажа по имени

### Фильмы
- `GET /films` - Все фильмы
- `GET /films/:id` - Конкретный фильм со всеми актерами
- `GET /films/:id/characters` - Только персонажи фильма
- `GET /films/stats/overview` - Статистика фильмов

### Административные
- `POST /api/load-films` - Загрузить фильмы из SWAPI
- `POST /api/load-people` - Загрузить персонажей из SWAPI
- `POST /api/create-links` - Создать базовые связи
- `POST /api/create-real-links` - Создать реальные связи из SWAPI
- `GET /api/links/stats` - Статистика связей

## Принципы архитектуры

1. **Разделение ответственности**: Каждый модуль отвечает за свою область
2. **Инкапсуляция**: Модели содержат всю логику работы с данными
3. **Переиспользование**: Сервисы можно использовать в разных контроллерах
4. **Тестируемость**: Каждый модуль можно тестировать отдельно
5. **Масштабируемость**: Легко добавлять новые функции

## Улучшения от монолитной структуры

- ✅ Читаемость кода значительно улучшена
- ✅ Легко найти нужную функциональность
- ✅ Простота добавления новых функций
- ✅ Возможность переиспользования компонентов
- ✅ Лучшая организация импортов
- ✅ Изоляция логики по доменам